\hypertarget{gz_index_8h}{}\doxysection{includoc/gz\+Index.h File Reference}
\label{gz_index_8h}\index{includoc/gzIndex.h@{includoc/gzIndex.h}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$zlib.\+h$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structpoint}{point}}
\item 
struct \mbox{\hyperlink{structaccess}{access}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{gz_index_8h_a08023ea6765c99d60a6a3840cd07156e}{local}}~static
\item 
\#define \mbox{\hyperlink{gz_index_8h_af99e64b08af1fcb2e8edfeb54290eed3}{S\+P\+AN}}~1048576L       /$\ast$ desired distance between \mbox{\hyperlink{structaccess}{access}} points $\ast$/
\item 
\#define \mbox{\hyperlink{gz_index_8h_ae503004492a3af248faa09d61b4ee4b4}{W\+I\+N\+S\+I\+ZE}}~32768U      /$\ast$ sliding window size $\ast$/
\item 
\#define \mbox{\hyperlink{gz_index_8h_a25022864dfc8ec428e7128282e57b136}{C\+H\+U\+NK}}~16384         /$\ast$ file input buffer size $\ast$/
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{gz_index_8h_a8de004d9175398ffcb4dc436adcbb401}{free\+Gz\+Index}} (struct \mbox{\hyperlink{structaccess}{access}} $\ast$index)
\item 
void \mbox{\hyperlink{gz_index_8h_ab49917269d91ff445d8a03954e11b3de}{serialize\+Gz\+Index}} (struct \mbox{\hyperlink{structaccess}{access}} $\ast$index, string output\+File)
\item 
struct \mbox{\hyperlink{structaccess}{access}} $\ast$ \mbox{\hyperlink{gz_index_8h_a490ef441c6abb4969f9929b46b962b8d}{deserialize\+Gz\+Index}} (struct \mbox{\hyperlink{structaccess}{access}} $\ast$index, string input\+File)
\item 
int \mbox{\hyperlink{gz_index_8h_a08e4ff6f36f3ee1e11562891124ac32f}{build\+Gz\+Index}} (string, off\+\_\+t span, struct \mbox{\hyperlink{structaccess}{access}} $\ast$$\ast$built)
\item 
int \mbox{\hyperlink{gz_index_8h_a46c7774320278b9bf264652c62c6882e}{build\+Gz\+Index\+\_\+\+Stream}} (F\+I\+LE $\ast$in, off\+\_\+t span, struct \mbox{\hyperlink{structaccess}{access}} $\ast$$\ast$built)
\item 
int \mbox{\hyperlink{gz_index_8h_aeaa30c4cca1c1e524d15a4f62ba86ef1}{extract}} (string gz\+File, struct \mbox{\hyperlink{structaccess}{access}} $\ast$index, off\+\_\+t offset, unsigned char $\ast$buf, int len)
\item 
int \mbox{\hyperlink{gz_index_8h_a77170f4028df63a577f1559815a72641}{extract\+\_\+\+Stream}} (F\+I\+LE $\ast$in, struct \mbox{\hyperlink{structaccess}{access}} $\ast$index, off\+\_\+t offset, unsigned char $\ast$buf, int len)
\item 
string \mbox{\hyperlink{gz_index_8h_adce8a161d359d1a0a6d95d577c1c4b2d}{extract\+Fastq\+Read\+From\+Offset}} (F\+I\+LE $\ast$in, struct \mbox{\hyperlink{structaccess}{access}} $\ast$index, off\+\_\+t offset)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{gz_index_8h_a25022864dfc8ec428e7128282e57b136}\label{gz_index_8h_a25022864dfc8ec428e7128282e57b136}} 
\index{gzIndex.h@{gzIndex.h}!CHUNK@{CHUNK}}
\index{CHUNK@{CHUNK}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{CHUNK}{CHUNK}}
{\footnotesize\ttfamily \#define C\+H\+U\+NK~16384         /$\ast$ file input buffer size $\ast$/}

\mbox{\Hypertarget{gz_index_8h_a08023ea6765c99d60a6a3840cd07156e}\label{gz_index_8h_a08023ea6765c99d60a6a3840cd07156e}} 
\index{gzIndex.h@{gzIndex.h}!local@{local}}
\index{local@{local}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{local}{local}}
{\footnotesize\ttfamily \#define local~static}

\mbox{\Hypertarget{gz_index_8h_af99e64b08af1fcb2e8edfeb54290eed3}\label{gz_index_8h_af99e64b08af1fcb2e8edfeb54290eed3}} 
\index{gzIndex.h@{gzIndex.h}!SPAN@{SPAN}}
\index{SPAN@{SPAN}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{SPAN}{SPAN}}
{\footnotesize\ttfamily \#define S\+P\+AN~1048576L       /$\ast$ desired distance between \mbox{\hyperlink{structaccess}{access}} points $\ast$/}

\mbox{\Hypertarget{gz_index_8h_ae503004492a3af248faa09d61b4ee4b4}\label{gz_index_8h_ae503004492a3af248faa09d61b4ee4b4}} 
\index{gzIndex.h@{gzIndex.h}!WINSIZE@{WINSIZE}}
\index{WINSIZE@{WINSIZE}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{WINSIZE}{WINSIZE}}
{\footnotesize\ttfamily \#define W\+I\+N\+S\+I\+ZE~32768U      /$\ast$ sliding window size $\ast$/}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{gz_index_8h_a08e4ff6f36f3ee1e11562891124ac32f}\label{gz_index_8h_a08e4ff6f36f3ee1e11562891124ac32f}} 
\index{gzIndex.h@{gzIndex.h}!buildGzIndex@{buildGzIndex}}
\index{buildGzIndex@{buildGzIndex}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{buildGzIndex()}{buildGzIndex()}}
{\footnotesize\ttfamily int build\+Gz\+Index (\begin{DoxyParamCaption}\item[{string}]{,  }\item[{off\+\_\+t}]{span,  }\item[{struct \mbox{\hyperlink{structaccess}{access}} $\ast$$\ast$}]{built }\end{DoxyParamCaption})}

Index a given gzip file.


\begin{DoxyParams}{Parameters}
{\em gz\+File} & gzip file to build the index for \\
\hline
{\em span} & build access points every span bits of uncompressed output \\
\hline
{\em built} & structure where to store the index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of access points on success ($>$=1), Z\+\_\+\+M\+E\+M\+\_\+\+E\+R\+R\+OR for out of memory, Z\+\_\+\+D\+A\+T\+A\+\_\+\+E\+R\+R\+OR for an error in the input file, or Z\+\_\+\+E\+R\+R\+NO for a file read error. On success, $\ast$built points to the resulting index. 
\end{DoxyReturn}
\mbox{\Hypertarget{gz_index_8h_a46c7774320278b9bf264652c62c6882e}\label{gz_index_8h_a46c7774320278b9bf264652c62c6882e}} 
\index{gzIndex.h@{gzIndex.h}!buildGzIndex\_Stream@{buildGzIndex\_Stream}}
\index{buildGzIndex\_Stream@{buildGzIndex\_Stream}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{buildGzIndex\_Stream()}{buildGzIndex\_Stream()}}
{\footnotesize\ttfamily int build\+Gz\+Index\+\_\+\+Stream (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{in,  }\item[{off\+\_\+t}]{span,  }\item[{struct \mbox{\hyperlink{structaccess}{access}} $\ast$$\ast$}]{built }\end{DoxyParamCaption})}

Index a given gzip file.


\begin{DoxyParams}{Parameters}
{\em F\+I\+LE} & open on the desired gzip file to build the index for \\
\hline
{\em span} & build access points every span bits of uncompressed output \\
\hline
{\em built} & structure where to store the index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of access points on success ($>$=1), Z\+\_\+\+M\+E\+M\+\_\+\+E\+R\+R\+OR for out of memory, Z\+\_\+\+D\+A\+T\+A\+\_\+\+E\+R\+R\+OR for an error in the input file, or Z\+\_\+\+E\+R\+R\+NO for a file read error. On success, $\ast$built points to the resulting index. 
\end{DoxyReturn}
\mbox{\Hypertarget{gz_index_8h_a490ef441c6abb4969f9929b46b962b8d}\label{gz_index_8h_a490ef441c6abb4969f9929b46b962b8d}} 
\index{gzIndex.h@{gzIndex.h}!deserializeGzIndex@{deserializeGzIndex}}
\index{deserializeGzIndex@{deserializeGzIndex}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{deserializeGzIndex()}{deserializeGzIndex()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaccess}{access}}$\ast$ deserialize\+Gz\+Index (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaccess}{access}} $\ast$}]{index,  }\item[{string}]{input\+File }\end{DoxyParamCaption})}

Deserialize a gzip index from a file.


\begin{DoxyParams}{Parameters}
{\em index} & index to fill \\
\hline
{\em input\+File} & file where the index is stored \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the index populated with the contents of the file 
\end{DoxyReturn}
\mbox{\Hypertarget{gz_index_8h_aeaa30c4cca1c1e524d15a4f62ba86ef1}\label{gz_index_8h_aeaa30c4cca1c1e524d15a4f62ba86ef1}} 
\index{gzIndex.h@{gzIndex.h}!extract@{extract}}
\index{extract@{extract}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{extract()}{extract()}}
{\footnotesize\ttfamily int extract (\begin{DoxyParamCaption}\item[{string}]{gz\+File,  }\item[{struct \mbox{\hyperlink{structaccess}{access}} $\ast$}]{index,  }\item[{off\+\_\+t}]{offset,  }\item[{unsigned char $\ast$}]{buf,  }\item[{int}]{len }\end{DoxyParamCaption})}

Extract data starting from a given offset off the uncompressed file, using the index.


\begin{DoxyParams}{Parameters}
{\em gz\+File} & gzip to extract data from \\
\hline
{\em index} & the index of the gzip file \\
\hline
{\em offset} & offset to start extracting data from \\
\hline
{\em buf} & buffer where to store the extracted data \\
\hline
{\em len} & number of bytes to extract \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes read or negative for error (Z\+\_\+\+D\+A\+T\+A\+\_\+\+E\+R\+R\+OR or Z\+\_\+\+M\+E\+M\+\_\+\+E\+R\+R\+OR) 
\end{DoxyReturn}
\mbox{\Hypertarget{gz_index_8h_a77170f4028df63a577f1559815a72641}\label{gz_index_8h_a77170f4028df63a577f1559815a72641}} 
\index{gzIndex.h@{gzIndex.h}!extract\_Stream@{extract\_Stream}}
\index{extract\_Stream@{extract\_Stream}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{extract\_Stream()}{extract\_Stream()}}
{\footnotesize\ttfamily int extract\+\_\+\+Stream (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{in,  }\item[{struct \mbox{\hyperlink{structaccess}{access}} $\ast$}]{index,  }\item[{off\+\_\+t}]{offset,  }\item[{unsigned char $\ast$}]{buf,  }\item[{int}]{len }\end{DoxyParamCaption})}

Extract data starting from a given offset off the uncompressed file, using the index.


\begin{DoxyParams}{Parameters}
{\em in} & F\+I\+LE open on the desired gzip file \\
\hline
{\em index} & the index of the gzip file \\
\hline
{\em offset} & offset to start extracting data from \\
\hline
{\em buf} & buffer where to store the extracted data \\
\hline
{\em len} & number of bytes to extract \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes read or negative for error (Z\+\_\+\+D\+A\+T\+A\+\_\+\+E\+R\+R\+OR or Z\+\_\+\+M\+E\+M\+\_\+\+E\+R\+R\+OR) 
\end{DoxyReturn}
\mbox{\Hypertarget{gz_index_8h_adce8a161d359d1a0a6d95d577c1c4b2d}\label{gz_index_8h_adce8a161d359d1a0a6d95d577c1c4b2d}} 
\index{gzIndex.h@{gzIndex.h}!extractFastqReadFromOffset@{extractFastqReadFromOffset}}
\index{extractFastqReadFromOffset@{extractFastqReadFromOffset}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{extractFastqReadFromOffset()}{extractFastqReadFromOffset()}}
{\footnotesize\ttfamily string extract\+Fastq\+Read\+From\+Offset (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{in,  }\item[{struct \mbox{\hyperlink{structaccess}{access}} $\ast$}]{index,  }\item[{off\+\_\+t}]{offset }\end{DoxyParamCaption})}

Extract the fastq format read at the specified offset.


\begin{DoxyParams}{Parameters}
{\em in} & F\+I\+LE open on the desired gzip file \\
\hline
{\em index} & the index of the gzip file \\
\hline
{\em offset} & offset off the read to extract \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the extracted read in fastq format 
\end{DoxyReturn}
\mbox{\Hypertarget{gz_index_8h_a8de004d9175398ffcb4dc436adcbb401}\label{gz_index_8h_a8de004d9175398ffcb4dc436adcbb401}} 
\index{gzIndex.h@{gzIndex.h}!freeGzIndex@{freeGzIndex}}
\index{freeGzIndex@{freeGzIndex}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{freeGzIndex()}{freeGzIndex()}}
{\footnotesize\ttfamily void free\+Gz\+Index (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaccess}{access}} $\ast$}]{index }\end{DoxyParamCaption})}

Deallocate an index built by build\+\_\+index()


\begin{DoxyParams}{Parameters}
{\em index} & index to deallocate \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{gz_index_8h_ab49917269d91ff445d8a03954e11b3de}\label{gz_index_8h_ab49917269d91ff445d8a03954e11b3de}} 
\index{gzIndex.h@{gzIndex.h}!serializeGzIndex@{serializeGzIndex}}
\index{serializeGzIndex@{serializeGzIndex}!gzIndex.h@{gzIndex.h}}
\doxysubsubsection{\texorpdfstring{serializeGzIndex()}{serializeGzIndex()}}
{\footnotesize\ttfamily void serialize\+Gz\+Index (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaccess}{access}} $\ast$}]{index,  }\item[{string}]{output\+File }\end{DoxyParamCaption})}

Serialize the gzip index into a file.


\begin{DoxyParams}{Parameters}
{\em index} & index to serialize \\
\hline
{\em output\+File} & file where to store the index \\
\hline
\end{DoxyParams}
